# 바코드 오디오 플레이어

동물 그림책에 붙인 바코드를 스캔하면 해당 동물의 소리를 재생하는 웹 애플리케이션입니다.

## 기능

- 바코드 스캐너를 통한 3자리 숫자 ID 입력 (000~999)
- 스캔된 ID에 매핑된 오디오 파일 자동 재생
- 최소한의 UI로 상태 및 정보 표시
- 오류 메시지 표시 (알 수 없는 ID, 파일 로드 실패 등)

## 프로젝트 구조

```
audio_qr/
├── index.html          # 메인 HTML 페이지
├── script.js           # 바코드 스캔 및 오디오 재생 로직
├── style.css           # 스타일링
├── config.json         # 3자리 숫자 ID와 오디오 파일 경로 및 설명 매핑
├── start.sh            # 서버 실행 스크립트
├── audio/              # 오디오 파일 저장 폴더
│   ├── dog.mp3
│   ├── cat.mp3
│   └── ...
└── README.md          # 프로젝트 설명 및 사용법
```

## 설치 및 실행

### 1. 오디오 파일 준비

`audio/` 폴더에 오디오 파일을 저장합니다. 파일 형식은 MP3, WAV 등 브라우저에서 지원하는 형식이면 됩니다.

### 2. 설정 파일 수정

`config.json` 파일을 열어 바코드 ID와 오디오 파일을 매핑합니다:

```json
{
  "mappings": {
    "000": {
      "file": "audio/dog.mp3",
      "description": "강아지 소리"
    },
    "001": {
      "file": "audio/cat.mp3",
      "description": "고양이 소리"
    }
  }
}
```

- `"000"`, `"001"` 등: 바코드에 인코딩된 3자리 숫자 ID (000~999)
- `"file"`: 오디오 파일 경로 (audio/ 폴더 기준)
- `"description"`: 화면에 표시될 설명

### 3. 로컬 서버 실행

웹 브라우저의 보안 정책상 로컬 파일을 직접 열면 CORS 오류가 발생할 수 있으므로, 로컬 서버를 실행해야 합니다.

#### 쉘 스크립트 사용 (권장):
```bash
./start.sh
```

#### Python 직접 실행:
```bash
python3 -m http.server 8000
```

또는

```bash
python -m http.server 8000
```

### 4. 브라우저에서 접속

로컬 서버가 실행되면 브라우저에서 다음 주소로 접속합니다:

- `http://localhost:8000`

## 사용 방법

1. 페이지가 로드되면 입력 필드에 자동으로 포커스가 설정됩니다.
2. 바코드 스캐너로 바코드를 스캔합니다.
3. 스캔된 3자리 숫자가 자동으로 감지되면 해당 오디오가 재생됩니다.
4. 재생 중 다른 바코드를 스캔하면 이전 재생이 중지되고 새 오디오가 재생됩니다.

## 바코드 생성

바코드는 Code 128 형식으로 생성하는 것을 권장합니다. 000~999까지 각 숫자를 텍스트로 인코딩하여 바코드를 생성하면 됩니다.

예:
- "000" → 바코드 이미지
- "001" → 바코드 이미지
- "002" → 바코드 이미지
- ...

온라인 바코드 생성기나 바코드 생성 라이브러리를 사용하여 미리 생성해두고 인쇄하여 사용할 수 있습니다.

## 주의사항

- 바코드 스캐너는 키보드 입력처럼 데이터를 전송해야 합니다 (HID 모드).
- 바코드 스캐너가 Enter 키를 보내지 않아도 됩니다. 숫자 3개가 입력되면 자동으로 처리됩니다.
- 오디오 파일은 브라우저에서 지원하는 형식이어야 합니다 (MP3, WAV, OGG 등).
- CORS 정책 때문에 반드시 로컬 서버를 통해 실행해야 합니다.

## 문제 해결

### 오디오가 재생되지 않을 때
- 오디오 파일 경로가 올바른지 확인하세요.
- 브라우저 콘솔에서 오류 메시지를 확인하세요.
- 오디오 파일 형식이 브라우저에서 지원되는지 확인하세요.

### 바코드 스캔이 인식되지 않을 때
- 입력 필드에 포커스가 있는지 확인하세요.
- 바코드 스캐너가 키보드 입력 모드로 설정되어 있는지 확인하세요.
- 스캔된 값이 정확히 3자리 숫자인지 확인하세요.

